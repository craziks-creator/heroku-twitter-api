{% extends "base.html" %}
{% block title %}{% endblock %}
{% block containercontent %}
<h3 class="text-primary">Pictures</h3>
<p class="font-italic">Search for photos from Twitter using your favorite Hashtags</p>
<div >
	<form id="form_search_tweets" method="POST" action="{{ url_for('twitter_api') }}">
		{{ form.csrf_token }}
		<div style="width: 25%">
			<b>{{ form.hashtag.label }}
			</b> {{ form.hashtag(size=20) }}
		</div>
		<br/>
		<div style="width: 25%">
			<b>{{ form.count.label }}
			</b> {{ form.count(size=20) }}
		</div>
		<br/>
		<input type="submit" value="Search" class="btn btn-small btn-success">
	</form>
	</div>
<div>
	{% for field, errors in form.errors.items() %}
<div class="alert alert-error">
    {{ form[field].label }}: {{ ', '.join(errors) }}
</div>
{% endfor %}
</div>
{% if formSubmitted %}
<div>
	<br/>
	<p>We found <b class="text-primary">{{nFound}}</b> out of <b>{{count}}</b> possible pictures with this search: <b class="text-primary">{{q}}</b></p>
</div>
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
	<div class="carousel-inner">
		{% for img in images %}
			{% if loop.index == 1 %}
			<div class="carousel-item active">
				<img src="{{img}}" width="100%" class="d-block w-100"/>
			</div>
			{% else %}

			<div class="carousel-item">
				<img src={{img}} width="100%" class="d-block w-100"/>
			</div>
			{% endif %}
		{% endfor %}
	</div>
	<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
	  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
	  <span class="sr-only">Previous</span>
	</a>
	<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
	  <span class="carousel-control-next-icon" aria-hidden="true"></span>
	  <span class="sr-only">Next</span>
	</a>
  </div>
{% endif %}
{% endblock %}